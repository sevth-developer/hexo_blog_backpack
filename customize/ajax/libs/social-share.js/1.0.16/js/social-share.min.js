var QRCode;!function(){function q(c){this.mode=B.MODE_8BIT_BYTE,this.data=c,this.parsedData=[];for(var d=0,f=this.data.length;d<f;d++){var a=[],g=this.data.charCodeAt(d);g>65536?(a[0]=240|(1835008&g)>>>18,a[1]=128|(258048&g)>>>12,a[2]=128|(4032&g)>>>6,a[3]=128|63&g):g>2048?(a[0]=224|(61440&g)>>>12,a[1]=128|(4032&g)>>>6,a[2]=128|63&g):g>128?(a[0]=192|(1984&g)>>>6,a[1]=128|63&g):a[0]=g,this.parsedData.push(a)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function O(a,c){this.typeNumber=a,this.errorCorrectLevel=c,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}q.prototype={getLength:function(a){return this.parsedData.length},write:function(a){for(var d=0,c=this.parsedData.length;d<c;d++){a.put(this.parsedData[d],8)}}},O.prototype={addData:function(c){var a=new q(c);this.dataList.push(a),this.dataCache=null},isDark:function(a,c){if(a<0||this.moduleCount<=a||c<0||this.moduleCount<=c){throw new Error(a+","+c)}return this.modules[a][c]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(c,d){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++){this.modules[e]=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++){this.modules[e][a]=null}}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(c,d),this.typeNumber>=7&&this.setupTypeNumber(c),null==this.dataCache&&(this.dataCache=O.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,d)},setupPositionProbePattern:function(a,d){for(var c=-1;c<=7;c++){if(!(a+c<=-1||this.moduleCount<=a+c)){for(var f=-1;f<=7;f++){d+f<=-1||this.moduleCount<=d+f||(this.modules[a+c][d+f]=0<=c&&c<=6&&(0==f||6==f)||0<=f&&f<=6&&(0==c||6==c)||2<=c&&c<=4&&2<=f&&f<=4)}}}},getBestMaskPattern:function(){for(var a=0,d=0,c=0;c<8;c++){this.makeImpl(!0,c);var f=M.getLostPoint(this);(0==c||a>f)&&(a=f,d=c)}return d},createMovieClip:function(f,l,h){var m=f.createEmptyMovieClip(l,h);this.make();for(var d=0;d<this.modules.length;d++){for(var p=1*d,c=0;c<this.modules[d].length;c++){var g=1*c;this.modules[d][c]&&(m.beginFill(0,100),m.moveTo(g,p),m.lineTo(g+1,p),m.lineTo(g+1,p+1),m.lineTo(g,p+1),m.endFill())}}return m},setupTimingPattern:function(){for(var a=8;a<this.moduleCount-8;a++){null==this.modules[a][6]&&(this.modules[a][6]=a%2==0)}for(var c=8;c<this.moduleCount-8;c++){null==this.modules[6][c]&&(this.modules[6][c]=c%2==0)}},setupPositionAdjustPattern:function(){for(var f=M.getPatternPosition(this.typeNumber),h=0;h<f.length;h++){for(var g=0;g<f.length;g++){var l=f[h],d=f[g];if(null==this.modules[l][d]){for(var m=-2;m<=2;m++){for(var c=-2;c<=2;c++){this.modules[l+m][d+c]=-2==m||2==m||-2==c||2==c||0==m&&0==c}}}}}},setupTypeNumber:function(a){for(var d=M.getBCHTypeNumber(this.typeNumber),c=0;c<18;c++){var f=!a&&1==(d>>c&1);this.modules[Math.floor(c/3)][c%3+this.moduleCount-8-3]=f}for(c=0;c<18;c++){f=!a&&1==(d>>c&1);this.modules[c%3+this.moduleCount-8-3][Math.floor(c/3)]=f}},setupTypeInfo:function(c,f){for(var d=this.errorCorrectLevel<<3|f,g=M.getBCHTypeInfo(d),a=0;a<15;a++){var h=!c&&1==(g>>a&1);a<6?this.modules[a][8]=h:a<8?this.modules[a+1][8]=h:this.modules[this.moduleCount-15+a][8]=h}for(a=0;a<15;a++){h=!c&&1==(g>>a&1);a<8?this.modules[8][this.moduleCount-a-1]=h:a<9?this.modules[8][15-a-1+1]=h:this.modules[8][15-a-1]=h}this.modules[this.moduleCount-8][8]=!c},mapData:function(u,m){for(var c=-1,d=this.moduleCount-1,g=7,f=0,p=this.moduleCount-1;p>0;p-=2){for(6==p&&p--;;){for(var v=0;v<2;v++){if(null==this.modules[d][p-v]){var l=!1;f<u.length&&(l=1==(u[f]>>>g&1)),M.getMask(m,d,p-v)&&(l=!l),this.modules[d][p-v]=l,-1==--g&&(f++,g=7)}}if((d+=c)<0||this.moduleCount<=d){d-=c,c=-c;break}}}}},O.PAD0=236,O.PAD1=17,O.createData=function(e,l,m){for(var d=I.getRSBlocks(e,l),p=new S,c=0;c<m.length;c++){var g=m[c];p.put(g.mode,4),p.put(g.getLength(),M.getLengthInBits(g.mode,e)),g.write(p)}var f=0;for(c=0;c<d.length;c++){f+=d[c].dataCount}if(p.getLengthInBits()>8*f){throw new Error("code length overflow. ("+p.getLengthInBits()+">"+8*f+")")}for(p.getLengthInBits()+4<=8*f&&p.put(0,4);p.getLengthInBits()%8!=0;){p.putBit(!1)}for(;!(p.getLengthInBits()>=8*f||(p.put(O.PAD0,8),p.getLengthInBits()>=8*f));){p.put(O.PAD1,8)}return O.createBytes(p,d)},O.createBytes=function(ac,V){for(var g=0,p=0,D=0,w=new Array(V.length),Y=new Array(V.length),ad=0;ad<V.length;ad++){var T=V[ad].dataCount,C=V[ad].totalCount-T;p=Math.max(p,T),D=Math.max(D,C),w[ad]=new Array(T);for(var ab=0;ab<w[ad].length;ab++){w[ad][ab]=255&ac.buffer[ab+g]}g+=T;var U=M.getErrorCorrectPolynomial(C),W=new F(w[ad],U.getLength()-1).mod(U);Y[ad]=new Array(U.getLength()-1);for(ab=0;ab<Y[ad].length;ab++){var X=ab+W.getLength()-Y[ad].length;Y[ad][ab]=X>=0?W.get(X):0}}var A=0;for(ab=0;ab<V.length;ab++){A+=V[ab].totalCount}var aa=new Array(A),Z=0;for(ab=0;ab<p;ab++){for(ad=0;ad<V.length;ad++){ab<w[ad].length&&(aa[Z++]=w[ad][ab])}}for(ab=0;ab<D;ab++){for(ad=0;ad<V.length;ad++){ab<Y[ad].length&&(aa[Z++]=Y[ad][ab])}}return aa};for(var B={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},G={L:1,M:0,Q:3,H:2},K=0,H=1,R=2,y=3,L=4,J=5,k=6,N=7,M={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var c=a<<10;M.getBCHDigit(c)-M.getBCHDigit(M.G15)>=0;){c^=M.G15<<M.getBCHDigit(c)-M.getBCHDigit(M.G15)}return(a<<10|c)^M.G15_MASK},getBCHTypeNumber:function(a){for(var c=a<<12;M.getBCHDigit(c)-M.getBCHDigit(M.G18)>=0;){c^=M.G18<<M.getBCHDigit(c)-M.getBCHDigit(M.G18)}return a<<12|c},getBCHDigit:function(a){for(var c=0;0!=a;){c++,a>>>=1}return c},getPatternPosition:function(a){return M.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,d,c){switch(a){case K:return(d+c)%2==0;case H:return d%2==0;case R:return c%3==0;case y:return(d+c)%3==0;case L:return(Math.floor(d/2)+Math.floor(c/3))%2==0;case J:return d*c%2+d*c%3==0;case k:return(d*c%2+d*c%3)%2==0;case N:return(d*c%3+(d+c)%2)%2==0;default:throw new Error("bad maskPattern:"+a)}},getErrorCorrectPolynomial:function(a){for(var d=new F([1],0),c=0;c<a;c++){d=d.multiply(new F([1,P.gexp(c)],0))}return d},getLengthInBits:function(a,c){if(1<=c&&c<10){switch(a){case B.MODE_NUMBER:return 10;case B.MODE_ALPHA_NUM:return 9;case B.MODE_8BIT_BYTE:case B.MODE_KANJI:return 8;default:throw new Error("mode:"+a)}}else{if(c<27){switch(a){case B.MODE_NUMBER:return 12;case B.MODE_ALPHA_NUM:return 11;case B.MODE_8BIT_BYTE:return 16;case B.MODE_KANJI:return 10;default:throw new Error("mode:"+a)}}else{if(!(c<41)){throw new Error("type:"+c)}switch(a){case B.MODE_NUMBER:return 14;case B.MODE_ALPHA_NUM:return 13;case B.MODE_8BIT_BYTE:return 16;case B.MODE_KANJI:return 12;default:throw new Error("mode:"+a)}}}},getLostPoint:function(C){for(var v=C.getModuleCount(),c=0,d=0;d<v;d++){for(var m=0;m<v;m++){for(var f=0,w=C.isDark(d,m),D=-1;D<=1;D++){if(!(d+D<0||v<=d+D)){for(var p=-1;p<=1;p++){m+p<0||v<=m+p||0==D&&0==p||w==C.isDark(d+D,m+p)&&f++}}}f>5&&(c+=3+f-5)}}for(d=0;d<v-1;d++){for(m=0;m<v-1;m++){var g=0;C.isDark(d,m)&&g++,C.isDark(d+1,m)&&g++,C.isDark(d,m+1)&&g++,C.isDark(d+1,m+1)&&g++,0!=g&&4!=g||(c+=3)}}for(d=0;d<v;d++){for(m=0;m<v-6;m++){C.isDark(d,m)&&!C.isDark(d,m+1)&&C.isDark(d,m+2)&&C.isDark(d,m+3)&&C.isDark(d,m+4)&&!C.isDark(d,m+5)&&C.isDark(d,m+6)&&(c+=40)}}for(m=0;m<v;m++){for(d=0;d<v-6;d++){C.isDark(d,m)&&!C.isDark(d+1,m)&&C.isDark(d+2,m)&&C.isDark(d+3,m)&&C.isDark(d+4,m)&&!C.isDark(d+5,m)&&C.isDark(d+6,m)&&(c+=40)}}var A=0;for(m=0;m<v;m++){for(d=0;d<v;d++){C.isDark(d,m)&&A++}}return c+=10*(Math.abs(100*A/v/v-50)/5)}},P={glog:function(a){if(a<1){throw new Error("glog("+a+")")}return P.LOG_TABLE[a]},gexp:function(a){for(;a<0;){a+=255}for(;a>=256;){a-=255}return P.EXP_TABLE[a]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},Q=0;Q<8;Q++){P.EXP_TABLE[Q]=1<<Q}for(Q=8;Q<256;Q++){P.EXP_TABLE[Q]=P.EXP_TABLE[Q-4]^P.EXP_TABLE[Q-5]^P.EXP_TABLE[Q-6]^P.EXP_TABLE[Q-8]}for(Q=0;Q<255;Q++){P.LOG_TABLE[P.EXP_TABLE[Q]]=Q}function F(a,d){if(void 0==a.length){throw new Error(a.length+"/"+d)}for(var c=0;c<a.length&&0==a[c];){c++}this.num=new Array(a.length-c+d);for(var f=0;f<a.length-c;f++){this.num[f]=a[f+c]}}function I(a,c){this.totalCount=a,this.dataCount=c}function S(){this.buffer=[],this.length=0}F.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(a){for(var d=new Array(this.getLength()+a.getLength()-1),c=0;c<this.getLength();c++){for(var f=0;f<a.getLength();f++){d[c+f]^=P.gexp(P.glog(this.get(c))+P.glog(a.get(f)))}}return new F(d,0)},mod:function(a){if(this.getLength()-a.getLength()<0){return this}for(var d=P.glog(this.get(0))-P.glog(a.get(0)),c=new Array(this.getLength()),f=0;f<this.getLength();f++){c[f]=this.get(f)}for(f=0;f<a.getLength();f++){c[f]^=P.gexp(P.glog(a.get(f))+d)}return new F(c,0).mod(a)}},I.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],I.getRSBlocks=function(w,u){var c=I.getRsBlockTable(w,u);if(void 0==c){throw new Error("bad rs block @ typeNumber:"+w+"/errorCorrectLevel:"+u)}for(var d=c.length/3,m=[],f=0;f<d;f++){for(var v=c[3*f+0],A=c[3*f+1],p=c[3*f+2],g=0;g<v;g++){m.push(new I(A,p))}}return m},I.getRsBlockTable=function(a,c){switch(c){case G.L:return I.RS_BLOCK_TABLE[4*(a-1)+0];case G.M:return I.RS_BLOCK_TABLE[4*(a-1)+1];case G.Q:return I.RS_BLOCK_TABLE[4*(a-1)+2];case G.H:return I.RS_BLOCK_TABLE[4*(a-1)+3];default:return}},S.prototype={get:function(a){var c=Math.floor(a/8);return 1==(this.buffer[c]>>>7-a%8&1)},put:function(a,d){for(var c=0;c<d;c++){this.putBit(1==(a>>>d-c-1&1))}},getLengthInBits:function(){return this.length},putBit:function(a){var c=Math.floor(this.length/8);this.buffer.length<=c&&this.buffer.push(0),a&&(this.buffer[c]|=128>>>this.length%8),this.length++}};var j=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function z(){var a=!1,d=navigator.userAgent;if(/android/i.test(d)){a=!0;var c=d.toString().match(/android ([0-9]\.[0-9])/i);c&&c[1]&&(a=parseFloat(c[1]))}return a}var b=function(){var a=function(c,d){this._el=c,this._htOption=d};return a.prototype.draw=function(u){var m=this._htOption,c=this._el,d=u.getModuleCount();Math.floor(m.width/d),Math.floor(m.height/d);function g(h,n){var i=document.createElementNS("http://www.w3.org/2000/svg",h);for(var s in n){n.hasOwnProperty(s)&&i.setAttribute(s,n[s])}return i}this.clear();var f=g("svg",{viewBox:"0 0 "+String(d)+" "+String(d),width:"100%",height:"100%",fill:m.colorLight});f.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),c.appendChild(f),f.appendChild(g("rect",{fill:m.colorLight,width:"100%",height:"100%"})),f.appendChild(g("rect",{fill:m.colorDark,width:"1",height:"1",id:"template"}));for(var p=0;p<d;p++){for(var v=0;v<d;v++){if(u.isDark(p,v)){var l=g("use",{x:String(v),y:String(p)});l.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),f.appendChild(l)}}}},a.prototype.clear=function(){for(;this._el.hasChildNodes();){this._el.removeChild(this._el.lastChild)}},a}(),x="svg"===document.documentElement.tagName.toLowerCase()?b:"undefined"==typeof CanvasRenderingContext2D?function(){var a=function(c,d){this._el=c,this._htOption=d};return a.prototype.draw=function(T){for(var A=this._htOption,c=this._el,d=T.getModuleCount(),p=Math.floor(A.width/d),g=Math.floor(A.height/d),C=['<table style="border:0;border-collapse:collapse;">'],U=0;U<d;U++){C.push("<tr>");for(var v=0;v<d;v++){C.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+p+"px;height:"+g+"px;background-color:"+(T.isDark(U,v)?A.colorDark:A.colorLight)+';"></td>')}C.push("</tr>")}C.push("</table>"),c.innerHTML=C.join("");var m=c.childNodes[0],D=(A.width-m.offsetWidth)/2,w=(A.height-m.offsetHeight)/2;D>0&&w>0&&(m.style.margin=w+"px "+D+"px")},a.prototype.clear=function(){this._el.innerHTML=""},a}():function(){function a(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}if(this._android&&this._android<=2.1){var d=1/window.devicePixelRatio,c=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(C,e,p,g,w,D,r,m,A){if("nodeName" in C&&/img/i.test(C.nodeName)){for(var v=arguments.length-1;v>=1;v--){arguments[v]=arguments[v]*d}}else{void 0===m&&(arguments[1]*=d,arguments[2]*=d,arguments[3]*=d,arguments[4]*=d)}c.apply(this,arguments)}}var f=function(g,h){this._bIsPainted=!1,this._android=z(),this._htOption=h,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=h.width,this._elCanvas.height=h.height,g.appendChild(this._elCanvas),this._el=g,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return f.prototype.draw=function(Y){var U=this._elImage,m=this._oContext,p=this._htOption,A=Y.getModuleCount(),v=p.width/A,W=p.height/A,Z=Math.round(v),C=Math.round(W);U.style.display="none",this.clear();for(var w=0;w<A;w++){for(var X=0;X<A;X++){var T=Y.isDark(w,X),D=X*v,V=w*W;m.strokeStyle=T?p.colorDark:p.colorLight,m.lineWidth=1,m.fillStyle=T?p.colorDark:p.colorLight,m.fillRect(D,V,v,W),m.strokeRect(Math.floor(D)+0.5,Math.floor(V)+0.5,Z,C),m.strokeRect(Math.ceil(D)-0.5,Math.ceil(V)-0.5,Z,C)}}this._bIsPainted=!0},f.prototype.makeImage=function(){this._bIsPainted&&function(h,m){var l=this;if(l._fFail=m,l._fSuccess=h,null===l._bSupportDataURI){var n=document.createElement("img"),g=function(){l._bSupportDataURI=!1,l._fFail&&l._fFail.call(l)};return n.onabort=g,n.onerror=g,n.onload=function(){l._bSupportDataURI=!0,l._fSuccess&&l._fSuccess.call(l)},void (n.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===l._bSupportDataURI&&l._fSuccess?l._fSuccess.call(l):!1===l._bSupportDataURI&&l._fFail&&l._fFail.call(l)}.call(this,a)},f.prototype.isPainted=function(){return this._bIsPainted},f.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},f.prototype.round=function(e){return e?Math.floor(1000*e)/1000:e},f}();function E(f,l){for(var h=1,d=function(a){var i=encodeURI(a).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return i.length+(i.length!=a?3:0)}(f),m=0,c=j.length;m<=c;m++){var g=0;switch(l){case G.L:g=j[m][0];break;case G.M:g=j[m][1];break;case G.Q:g=j[m][2];break;case G.H:g=j[m][3]}if(d<=g){break}h++}if(h>j.length){throw new Error("Too long data")}return h}(QRCode=function(a,d){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:G.H},"string"==typeof d&&(d={text:d}),d){for(var c in d){this._htOption[c]=d[c]}}"string"==typeof a&&(a=document.getElementById(a)),this._htOption.useSVG&&(x=b),this._android=z(),this._el=a,this._oQRCode=null,this._oDrawing=new x(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)}).prototype.makeCode=function(a){this._oQRCode=new O(E(a,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(a),this._oQRCode.make(),this._el.title=a,this._oDrawing.draw(this._oQRCode),this.makeImage()},QRCode.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},QRCode.prototype.clear=function(){this._oDrawing.clear()},QRCode.CorrectLevel=G}(),function(H,Z,M){function V(a,c){var b=X({},ac,c||{},P(a));b.imageSelector&&(b.image=W(b.imageSelector).map(function(d){return d.src}).join("||")),F(a,"share-component social-share"),R(a,b),Q(a,b),a.initialized=!0}function R(b,d){var c=ad(d),a="prepend"==d.mode;z(a?c.reverse():c,function(e){var g=J(e,d),f=d.initialized?aa(b,"icon-"+e):Y('<a class="social-share-icon icon-'+e+'"></a>');return f.length?(f[0].href=g,"wechat"===e?f[0].tabindex=-1:f[0].target="_blank",void (d.initialized||(a?b.insertBefore(f[0],b.firstChild):b.appendChild(f[0])))):!0})}function Q(b,d){var c=aa(b,"icon-wechat","a");if(0===c.length){return !1}var a=Y('<div class="wechat-qrcode"><h4>'+d.wechatQrcodeTitle+'</h4><div class="qrcode"></div><div class="help">'+d.wechatQrcodeHelper+"</div></div>"),f=aa(a[0],"qrcode","div");c[0].appendChild(a[0]),new QRCode(f[0],{text:d.url,width:d.wechatQrcodeSize,height:d.wechatQrcodeSize})}function ad(a){a.mobileSites.length||(a.mobileSites=a.sites);var c=(O?a.mobileSites:a.sites).slice(0),b=a.disabled;return"string"==typeof c&&(c=c.split(/\s*,\s*/)),"string"==typeof b&&(b=b.split(/\s*,\s*/)),G&&b.push("wechat"),b.length&&z(b,function(d){c.splice(S(d,c),1)}),c}function J(a,b){return b.summary=b.description,N[a].replace(/\{\{(\w)(\w*)\}\}/g,function(d,f,e){var c=a+f+e.toLowerCase();return e=(f+e).toLowerCase(),encodeURIComponent((b[c]===M?b[e]:b[c])||"")})}function W(a){return(Z.querySelectorAll||H.jQuery||H.Zepto||U).call(Z,a)}function U(a){var b=[];return z(a.split(/\s*,\s*/),function(c){var e=c.match(/([#.])(\w+)/);if(null===e){throw Error("Supports only simple single #ID or .CLASS selector.")}if(e[1]){var d=Z.getElementById(e[2]);d&&b.push(d)}b=b.concat(aa(a))}),b}function F(b,d){if(d&&"string"==typeof d){var c=(b.className+" "+d).split(/\s+/),a=" ";z(c,function(e){a.indexOf(" "+e+" ")<0&&(a+=e+" ")}),b.className=a.slice(1,-1)}}function ab(a){return(Z.getElementsByName(a)[0]||0).content}function aa(b,d,c){if(b.getElementsByClassName){return b.getElementsByClassName(d)}var a=[],f=b.getElementsByTagName(c||"*");return d=" "+d+" ",z(f,function(e){(" "+(e.className||"")+" ").indexOf(d)>=0&&a.push(e)}),a}function Y(a){var b=Z.createElement("div");return b.innerHTML=a,b.childNodes}function X(){var a=arguments;if(K){return K.apply(null,a)}var b={};return z(a,function(c){z(c,function(d,e){b[e]=d})}),a[0]=b}function P(a){if(a.dataset){return a.dataset}var b={};return a.hasAttributes()?(z(a.attributes,function(c){var d=c.name;return 0!==d.indexOf("data-")?!0:(d=d.replace(/^data-/i,"").replace(/-(\w)/g,function(f,g){return g.toUpperCase()}),void (b[d]=c.value))}),b):{}}function S(b,d,c){var a;if(d){if(ae){return ae.call(d,b,c)}for(a=d.length,c=c?0>c?Math.max(0,a+c):c:0;a>c;c++){if(c in d&&d[c]===b){return c}}}return -1}function z(b,c){var a=b.length;if(a===M){for(var f in b){if(b.hasOwnProperty(f)&&c.call(b[f],b[f],f)===!1){break}}}else{for(var d=0;a>d&&c.call(b[d],b[d],d)!==!1;d++){}}}function x(b){var a="addEventListener",c=Z[a]?"":"on";~Z.readyState.indexOf("m")?b():"load DOMContentLoaded readystatechange".replace(/\w+/g,function(e,d){(d?Z:H)[c?"attachEvent":a](c+e,function(){b&&(6>d||~Z.readyState.indexOf("m"))&&(b(),b=0)},!1)})}var ae=Array.prototype.indexOf,K=Object.assign,G=/MicroMessenger/i.test(navigator.userAgent),O=Z.documentElement.clientWidth<=768,j=(Z.images[0]||0).src||"",q=ab("site")||ab("Site")||Z.title,k=ab("title")||ab("Title")||Z.title,I=ab("description")||ab("Description")||"",ac={url:location.href,origin:location.origin,source:q,title:k,description:I,image:j,imageSelector:M,weiboKey:"",wechatQrcodeTitle:"微信扫一扫：分享",wechatQrcodeHelper:"<p>微信里点“发现”，扫一下</p><p>二维码便可将本文分享至朋友圈。</p>",wechatQrcodeSize:100,sites:["weibo","qq","wechat","tencent","douban","qzone","linkedin","diandian","facebook","twitter","google"],mobileSites:[],disabled:[],initialized:!1},N={qzone:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url={{URL}}&title={{TITLE}}&desc={{DESCRIPTION}}&summary={{SUMMARY}}&site={{SOURCE}}",qq:"http://connect.qq.com/widget/shareqq/index.html?url={{URL}}&title={{TITLE}}&source={{SOURCE}}&desc={{DESCRIPTION}}&pics={{IMAGE}}",tencent:"http://share.v.t.qq.com/index.php?c=share&a=index&title={{TITLE}}&url={{URL}}&pic={{IMAGE}}",weibo:"http://service.weibo.com/share/share.php?url={{URL}}&title={{TITLE}}&pic={{IMAGE}}&appkey={{WEIBOKEY}}",wechat:"javascript:",douban:"http://shuo.douban.com/!service/share?href={{URL}}&name={{TITLE}}&text={{DESCRIPTION}}&image={{IMAGE}}&starid=0&aid=0&style=11",diandian:"http://www.diandian.com/share?lo={{URL}}&ti={{TITLE}}&type=link",linkedin:"http://www.linkedin.com/shareArticle?mini=true&ro=true&title={{TITLE}}&url={{URL}}&summary={{SUMMARY}}&source={{SOURCE}}&armin=armin",facebook:"https://www.facebook.com/sharer/sharer.php?u={{URL}}",twitter:"https://twitter.com/intent/tweet?text={{TITLE}}&url={{URL}}&via={{ORIGIN}}",google:"https://plus.google.com/share?url={{URL}}"};H.socialShare=function(a,b){a="string"==typeof a?W(a):a,a.length===M&&(a=[a]),z(a,function(c){c.initialized||V(c,b)})},x(function(){socialShare(".social-share, .share-component")})}(window,document);